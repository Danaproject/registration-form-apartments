(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Blcu:function(e,t,n){"use strict";var r={getItem:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0},setItem:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)}};t.a=r},NwXJ:function(e,t,n){"use strict";n.r(t);n("RtS0"),n("JBxO"),n("FdtR"),n("3dw1"),n("wcNg");var r=n("xyg5"),o=n("Blcu"),a=n("QJ3N");n("bzha"),n("zrP5");function i(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var s=function(){function e(e){var t,n,s,u=this;t=this,n="submitHandler",s=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData(u.form),i={},n.forEach((function(e,t){i[t]=e})),e.prev=4,e.next=7,r.a.register(i);case 7:if((s=e.sent).ok){e.next=10;break}throw s;case 10:return e.next=12,s.json();case 12:c=e.sent,o.a.setItem("session",c),u.form.reset(),window.location="/",e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),console.log(e.t0),Object(a.alert)({text:e.t0.statusText});case 22:case"end":return e.stop()}}),e,null,[[4,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),n in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,this.form=document.querySelector(e)}var t=e.prototype;return t.addListeners=function(){this.form.addEventListener("submit",this.submitHandler)},t.init=function(){this.addListeners()},e}();n("OPH6");new s(".form").init()},OPH6:function(e,t,n){},YdOs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BASE_URL:"https://apt-booking-api.herokuapp.com"}},xyg5:function(e,t,n){"use strict";n("D/wG"),n("JBxO"),n("FdtR"),n("wcNg");function r(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,u,"next",e)}function u(e){r(i,o,a,s,u,"throw",e)}s(void 0)}))}}var a=n("YdOs").a.BASE_URL,i={register:function(e){return o(regeneratorRuntime.mark((function t(){var n,r,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.name,r=e.email,o=e.password,i=JSON.stringify({name:n,email:r,password:o}),t.next=4,fetch(a+"/users/register",{body:i,method:"POST",headers:{"Content-Type":"application/json"}});case 4:return s=t.sent,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))()},login:function(e){return o(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.email,r=e.password,o=JSON.stringify({email:n,password:r}),t.next=4,fetch(a+"/users/login",{body:o,method:"POST",headers:{"Content-Type":"application/json"}});case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})))()}};t.a=i}},[["NwXJ",0,1]]]);
//# sourceMappingURL=registration.73b1e47f16df0bf7638a.js.map